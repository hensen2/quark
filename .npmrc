### Performance & Security ###

# Audit settings
audit-level=moderate

# Aggressive caching for faster installs
prefer-offline=true

# Increase network concurrency (default: 16)
network-concurrency=32

# Enable side-effects cache (30-50% faster reinstalls)
side-effects-cache=true


### Workspace Configuration ###

# Use symlinks for workspace packages
# Better for development with hot reloading
link-workspace-packages=true
prefer-workspace-packages=true

# Save workspace protocol
# How workspace dependencies are saved
save-workspace-protocol=rolling

# Better resolution for workspace packages
resolve-peers-from-workspace-root=true


### Hoisting Strategy ###

# Hoist patterns for workspace
# These packages will be hoisted to the root node_modules
public-hoist-pattern[]=@types*
public-hoist-pattern[]=typescript
public-hoist-pattern[]=vite
public-hoist-pattern[]=vitest
public-hoist-pattern[]=@biomejs*

# Packages that should never be hoisted
# Prevents version conflicts
# public-hoist-pattern[]=!@workspace/*
# public-hoist-pattern[]=!react
# public-hoist-pattern[]=!react-dom

# Shamefully hoist (use sparingly)
# Only for packages that break without hoisting
shamefully-hoist=false


### Dependency Management ###

# Ensures all peer deps are properly installed
auto-install-peers=true

# Don't fail on peer dependency issues in dev
# Different behavior for local dev vs CI
strict-peer-dependencies=false

dedupe-peer-dependents=true
